<div class="cart-item">
  <img [src]="item.product.url" [alt]="item.product.name" class="cart-item-image">
  
  <div class="cart-item-info">
    <h3>{{ item.product.name }}</h3>
    <p class="item-price">${{ item.product.price.toFixed(2) }}</p>
  </div>
  
  <div class="cart-item-controls">
    <label for="quantity-{{item.product.id}}">Quantity:</label>
    <input 
      type="number" 
      id="quantity-{{item.product.id}}"
      [(ngModel)]="localQuantity"
      (ngModelChange)="onQuantityModelChange($event)"
      min="1" 
      max="99"
      class="quantity-input"
      [class.invalid]="quantityError">
    
    <!-- Error message displayed using ngIf based on ngModelChange validation -->
    <div class="quantity-error" *ngIf="quantityError">
      {{ quantityError }}
    </div>
    
    <p class="item-total">${{ (item.product.price * item.quantity).toFixed(2) }}</p>
    
    <button 
      class="remove-button" 
      (click)="onRemove()"
      aria-label="Remove item">
      Remove
    </button>
  </div>
</div>
